<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="649.5px" preserveAspectRatio="none" style="width:1239px;height:649px;" version="1.1" viewBox="0 0 1239 649" width="1239px" zoomAndPan="magnify"><defs><filter height="300%" id="f15orn0y58gamh" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="3.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="6.0" dy="6.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f15orn0y58gamh)" height="131.0158" style="stroke:#A80036;stroke-width:1.5;" width="15" x="315.75" y="183.7892"/><rect fill="#FFFFFF" filter="url(#f15orn0y58gamh)" height="43.6719" style="stroke:#A80036;stroke-width:1.5;" width="15" x="732.75" y="358.4769"/><rect fill="#FFFFFF" filter="url(#f15orn0y58gamh)" height="64.6719" style="stroke:#A80036;stroke-width:1.5;" width="15" x="925.5" y="456.3208"/><rect fill="#FFFFFF" filter="url(#f15orn0y58gamh)" height="287.7036" style="stroke:#000000;stroke-width:3.0;" width="849.75" x="15" y="126.4453"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="120" x2="120" y1="100.9453" y2="547.9927"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="322.5" x2="322.5" y1="100.9453" y2="547.9927"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="558.75" x2="558.75" y1="100.9453" y2="547.9927"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="740.25" x2="740.25" y1="100.9453" y2="547.9927"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="932.25" x2="932.25" y1="100.9453" y2="547.9927"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="1157.25" x2="1157.25" y1="100.9453" y2="547.9927"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="172.5" x="30" y="95.9927">importLinksStep</text><ellipse cx="120.75" cy="52.5" fill="#FEFECE" filter="url(#f15orn0y58gamh)" rx="18" ry="18" style="stroke:#A80036;stroke-width:3.0;"/><polygon fill="#A80036" points="114.75,34.5,123.75,27,120.75,34.5,123.75,42,114.75,34.5" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="172.5" x="30" y="565.9854">importLinksStep</text><ellipse cx="120.75" cy="594.938" fill="#FEFECE" filter="url(#f15orn0y58gamh)" rx="18" ry="18" style="stroke:#A80036;stroke-width:3.0;"/><polygon fill="#A80036" points="114.75,576.938,123.75,569.438,120.75,576.938,123.75,584.438,114.75,576.938" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#FEFECE" filter="url(#f15orn0y58gamh)" height="45.4453" style="stroke:#A80036;stroke-width:2.25;" width="187.5" x="226.5" y="48"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="166.5" x="237" y="77.9927">LinkRowReader</text><rect fill="#FEFECE" filter="url(#f15orn0y58gamh)" height="45.4453" style="stroke:#A80036;stroke-width:2.25;" width="187.5" x="226.5" y="546.4927"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="166.5" x="237" y="576.4854">LinkRowReader</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="105" x="501.75" y="95.9927">SourceDb</text><path d="M531.75,22.5 C531.75,7.5 558.75,7.5 558.75,7.5 C558.75,7.5 585.75,7.5 585.75,22.5 L585.75,61.5 C585.75,76.5 558.75,76.5 558.75,76.5 C558.75,76.5 531.75,76.5 531.75,61.5 L531.75,22.5 " fill="#FEFECE" filter="url(#f15orn0y58gamh)" style="stroke:#000000;stroke-width:2.25;"/><path d="M531.75,22.5 C531.75,37.5 558.75,37.5 558.75,37.5 C558.75,37.5 585.75,37.5 585.75,22.5 " fill="none" style="stroke:#000000;stroke-width:2.25;"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="105" x="501.75" y="565.9854">SourceDb</text><path d="M531.75,585.938 C531.75,570.938 558.75,570.938 558.75,570.938 C558.75,570.938 585.75,570.938 585.75,585.938 L585.75,624.938 C585.75,639.938 558.75,639.938 558.75,639.938 C558.75,639.938 531.75,639.938 531.75,624.938 L531.75,585.938 " fill="#FEFECE" filter="url(#f15orn0y58gamh)" style="stroke:#000000;stroke-width:2.25;"/><path d="M531.75,585.938 C531.75,600.938 558.75,600.938 558.75,600.938 C558.75,600.938 585.75,600.938 585.75,585.938 " fill="none" style="stroke:#000000;stroke-width:2.25;"/><rect fill="#FEFECE" filter="url(#f15orn0y58gamh)" height="45.4453" style="stroke:#A80036;stroke-width:2.25;" width="213" x="630.75" y="48"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="192" x="641.25" y="77.9927">LinkRowProcessor</text><rect fill="#FEFECE" filter="url(#f15orn0y58gamh)" height="45.4453" style="stroke:#A80036;stroke-width:2.25;" width="213" x="630.75" y="546.4927"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="192" x="641.25" y="576.4854">LinkRowProcessor</text><rect fill="#FEFECE" filter="url(#f15orn0y58gamh)" height="45.4453" style="stroke:#A80036;stroke-width:2.25;" width="130.5" x="864.75" y="48"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="109.5" x="875.25" y="77.9927">LinkWriter</text><rect fill="#FEFECE" filter="url(#f15orn0y58gamh)" height="45.4453" style="stroke:#A80036;stroke-width:2.25;" width="130.5" x="864.75" y="546.4927"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="109.5" x="875.25" y="576.4854">LinkWriter</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="151.5" x="1077.75" y="95.9927">DestinationDb</text><path d="M1131,22.5 C1131,7.5 1158,7.5 1158,7.5 C1158,7.5 1185,7.5 1185,22.5 L1185,61.5 C1185,76.5 1158,76.5 1158,76.5 C1158,76.5 1131,76.5 1131,61.5 L1131,22.5 " fill="#FEFECE" filter="url(#f15orn0y58gamh)" style="stroke:#000000;stroke-width:2.25;"/><path d="M1131,22.5 C1131,37.5 1158,37.5 1158,37.5 C1158,37.5 1185,37.5 1185,22.5 " fill="none" style="stroke:#000000;stroke-width:2.25;"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="151.5" x="1077.75" y="565.9854">DestinationDb</text><path d="M1131,585.938 C1131,570.938 1158,570.938 1158,570.938 C1158,570.938 1185,570.938 1185,585.938 L1185,624.938 C1185,639.938 1158,639.938 1158,639.938 C1158,639.938 1131,639.938 1131,624.938 L1131,585.938 " fill="#FEFECE" filter="url(#f15orn0y58gamh)" style="stroke:#000000;stroke-width:2.25;"/><path d="M1131,585.938 C1131,600.938 1158,600.938 1158,600.938 C1158,600.938 1185,600.938 1185,585.938 " fill="none" style="stroke:#000000;stroke-width:2.25;"/><rect fill="#FFFFFF" filter="url(#f15orn0y58gamh)" height="131.0158" style="stroke:#A80036;stroke-width:1.5;" width="15" x="315.75" y="183.7892"/><rect fill="#FFFFFF" filter="url(#f15orn0y58gamh)" height="43.6719" style="stroke:#A80036;stroke-width:1.5;" width="15" x="732.75" y="358.4769"/><rect fill="#FFFFFF" filter="url(#f15orn0y58gamh)" height="64.6719" style="stroke:#A80036;stroke-width:1.5;" width="15" x="925.5" y="456.3208"/><path d="M15,126.4453 L516,126.4453 L516,136.9453 L501,151.9453 L15,151.9453 L15,126.4453 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="287.7036" style="stroke:#000000;stroke-width:3.0;" width="849.75" x="15" y="126.4453"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="433.5" x="37.5" y="146.0239">Read and process chunk of N elements</text><polygon fill="#A80036" points="297.75,177.7892,312.75,183.7892,297.75,189.7892,303.75,183.7892" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="120.75" x2="306.75" y1="183.7892" y2="183.7892"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-style="italic" lengthAdjust="spacing" textLength="58.5" x="131.25" y="176.1958">read()</text><polygon fill="#A80036" points="540.75,221.4611,555.75,227.4611,540.75,233.4611,546.75,227.4611" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="330.75" x2="549.75" y1="227.4611" y2="227.4611"/><text fill="#000000" font-family="monospace" font-size="19.5" lengthAdjust="spacing" textLength="192" x="341.25" y="219.8678">import_links.sql</text><polygon fill="#A80036" points="347.25,265.1331,332.25,271.1331,347.25,277.1331,341.25,271.1331" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="338.25" x2="557.25" y1="271.1331" y2="271.1331"/><text fill="#000000" font-family="monospace" font-size="19.5" lengthAdjust="spacing" textLength="108" x="356.25" y="263.5397">ResultSet</text><polygon fill="#A80036" points="137.25,308.805,122.25,314.805,137.25,320.805,131.25,314.805" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="128.25" x2="321.75" y1="314.805" y2="314.805"/><text fill="#000000" font-family="monospace" font-size="19.5" lengthAdjust="spacing" textLength="84" x="146.25" y="307.2116">LinkRow</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="66" x="236.25" y="307.2116">| "null"</text><polygon fill="#A80036" points="714.75,352.4769,729.75,358.4769,714.75,364.4769,720.75,358.4769" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="120.75" x2="723.75" y1="358.4769" y2="358.4769"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-style="italic" lengthAdjust="spacing" textLength="82.5" x="131.25" y="350.8836">process(</text><text fill="#000000" font-family="monospace" font-size="19.5" lengthAdjust="spacing" textLength="84" x="213.75" y="350.8836">LinkRow</text><text fill="#000000" font-family="sans-serif" font-size="19.5" font-style="italic" lengthAdjust="spacing" textLength="7.5" x="297.75" y="350.8836">)</text><polygon fill="#A80036" points="137.25,396.1489,122.25,402.1489,137.25,408.1489,131.25,402.1489" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:2.0,2.0;" x1="128.25" x2="738.75" y1="402.1489" y2="402.1489"/><text fill="#000000" font-family="monospace" font-size="19.5" lengthAdjust="spacing" textLength="180" x="146.25" y="394.5555">PersistableLink</text><polygon fill="#A80036" points="907.5,450.3208,922.5,456.3208,907.5,462.3208,913.5,456.3208" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="120.75" x2="916.5" y1="456.3208" y2="456.3208"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-style="italic" lengthAdjust="spacing" textLength="57" x="131.25" y="448.7275">write(</text><text fill="#000000" font-family="monospace" font-size="19.5" lengthAdjust="spacing" textLength="264" x="188.25" y="448.7275">Chunk&lt;PersistableLink&gt;</text><text fill="#000000" font-family="sans-serif" font-size="19.5" font-style="italic" lengthAdjust="spacing" textLength="7.5" x="452.25" y="448.7275">)</text><polygon fill="#A80036" points="1140,493.9927,1155,499.9927,1140,505.9927,1146,499.9927" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="940.5" x2="1149" y1="499.9927" y2="499.9927"/><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="181.5" x="951" y="492.3994">JDBC batch update</text><polygon fill="#A80036" points="137.25,514.9927,122.25,520.9927,137.25,526.9927,131.25,520.9927" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:2.0,2.0;" x1="128.25" x2="931.5" y1="520.9927" y2="520.9927"/><!--MD5=[e98e5856436c382259c3c99533e7f889]
@startuml

control importLinksStep as step
participant LinkRowReader as reader
database SourceDb as sdb
participant LinkRowProcessor as processor
participant LinkWriter as writer
database DestinationDb as ddb

group Read and process chunk of N elements

    step -> reader : //read()//
    activate reader

    reader -> sdb : ""import_links.sql""
    reader <- sdb : ""ResultSet""

    step <- reader :""LinkRow"" | "null"
    deactivate reader

    step -> processor : //process(//""LinkRow""//)//
    activate processor
    step <- - processor : ""PersistableLink""
    deactivate processor

end

step -> writer : //write(//""Chunk<PersistableLink>""//)//
activate writer
writer -> ddb : JDBC batch update
step <- - writer
deactivate writer

@enduml

PlantUML version 1.2021.5(Sun Apr 25 14:20:28 EEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>